export const metadata = {
 title:
  "Complete Guide to Facebook Pixel Purchase Event Setup on Shopify Using Google Tag Manager",
 date: "2023-11-16",
 blogId: 75,
 keywords:
  "Complete Guide, Facebook Pixel Purchase Event Setup, Shopify, Google Tag Manager, Tutorial, Purchase, Conversions, Accurate Attribution, Facebook Ads, Prerequisites, GTM container, Shopify store, Facebook Business Manager account, Section 1, Setting Up GTM on Shopify, Step-by-Step Instructions, Access GTM, Tracking Scripts, GTM container ID, head and body container codes, Copy Head Code, Shopify Store Setup, Online Stores, Permissions, Duplicate theme, theme.liquid file, head container code, body snippet, Verify Tracking, Final Thank You Page Tracking, Checkout settings, Section 2, Configuring Facebook Pixel Tag, Access Facebook Business Manager, Event Manager, Pixel ID, Set Up in GTM, Facebook-provided template, Constant variable, Facebook Pixel tag, Page view tracking, User session data capture, Section 3, DataLayer code for Purchase Events, Purchase, Section 4, GTM Configuration for Purchase Tracking, Create Custom Trigger, Set Data Layer Variables, Transaction ID, Value, Tax, Currency, Item details, Tag Creation and Setup, Event parameters, Order ID, Content type, Items, Correct mapping, Section 5, Testing and Publishing, Preview and Debug, Dummy purchases, Event tracking, Facebook Pixel helper extension, Facebook Event Manager, Publish Changes, Conclusion, Configure Facebook Pixel purchase event, Tracking and attribution accuracy, Digital marketing strategies",
 tags: ["Facebook Pixel", "Shopify", "Google Tag Manager", "Purchase"],
 draft: false,
 description: `We'll explore how to configure the purchase event on Facebook Pixel using Google Tag Manager (GTM) for your Shopify store. This setup is crucial for tracking conversions and ensuring accurate attribution in Facebook Ads.`,
 openGraph: {
  images: ["/static/blog/00015.png"],
 },
 embedId: "BZFmsCyVqaM",
};

<BlogHeader metadata={metadata} />

## Introduction

In this comprehensive guide, we'll explore how to configure the purchase event on Facebook Pixel using Google Tag Manager (GTM) for your Shopify store. This setup is crucial for tracking conversions and ensuring accurate attribution in Facebook Ads. The process is divided into five distinct sections:

1. Setting up GTM container on Shopify.
2. Configuring the Facebook configuration tag for tracking.
3. Adding tracking scripts for purchase events.
4. Setting up GTM to track these scripts.
5. Testing and finalizing the setup.

<YoutubeEmbed embedId={metadata.embedId} />

## Prerequisites

- Google Tag Manager container.
- Shopify store.
- Facebook Business Manager account.

## Section 1: Setting Up GTM on Shopify

### Step-by-Step Instructions:

1. **Access GTM for Tracking Scripts**: Navigate to the GTM overview page, find your GTM container ID, and access head and body container codes.
2. **Copy Head Code**: Begin by copying the head container code.
3. **Shopify Store Setup**:
   - Go to 'Online Stores' in your Shopify dashboard.
   - Ensure you have the necessary permissions to edit themes.
   - Duplicate the theme for backup.
   - Find and edit the `theme.liquid` file.
   - Insert the head container code below the `<head>` section.
4. **Add Body Snippet**: Copy the body snippet from GTM and insert it into your Shopify store's theme layout, typically around line 255.
5. **Verify Tracking**: Use the GTM preview and debugging tools to ensure events are firing correctly on your site.

### Final Thank You Page Tracking:

- Add the GTM head container code in the 'Checkout' settings of your Shopify store, specifically in the 'Order Status Script' section.

## Section 2: Configuring Facebook Pixel Tag

1. **Access Facebook Business Manager**: Go to 'Event Manager' in your Facebook business account.
2. **Copy Pixel ID**: Obtain your Facebook Pixel (now called 'database') ID.
3. **Set Up in GTM**:
   - Use the Facebook-provided template in GTM's template library.
   - Create a constant variable for the Facebook Pixel ID for ease of use.
   - Configure the Facebook Pixel tag to fire on all pages, ensuring page view tracking and user session data capture.

## Section 3: DataLayer code for Purchase Events

<Purchase />

## Section 4: GTM Configuration for Purchase Tracking

1. **Create Custom Trigger**: Set up a trigger in GTM for the custom purchase event.
2. **Set Data Layer Variables**: Establish variables for transaction ID, value, tax, currency, and item details.
3. **Tag Creation and Setup**:
   - Use the Facebook Pixel tag.
   - Configure event parameters (e.g., order ID, content type, items).
   - Ensure correct mapping to Facebook Pixel requirements.

## Section 5: Testing and Publishing

1. **Preview and Debug**: Utilize GTM's preview mode to test the setup.
2. **Conduct Test Transactions**: Perform dummy purchases to verify the firing of purchase events and data capture.
3. **Final Checks**:
   - Confirm event tracking on the Facebook Pixel helper extension.
   - Review data in Facebook Event Manager.
4. **Publish Changes**: Once satisfied, publish the changes in GTM.

## Conclusion

By following these steps, you can effectively configure the Facebook Pixel purchase event on your Shopify store using Google Tag Manager. This setup enhances your Facebook Ads' tracking and attribution accuracy, crucial for successful digital marketing strategies.
